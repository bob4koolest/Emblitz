<!DOCTYPE html>
<HTML>
    <HEAD>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <LINK REL="stylesheet" HREF="./css/style.css">
        
        <link rel="icon" href="./images/icon.png">

        <!-- configs | put in front of js files -->
        <SCRIPT>
            const hostname = "<%= host_name %>";
            const prod = "<%= prod %>";
        </SCRIPT>

        <SCRIPT TYPE="text/javascript" SRC="./js/colorData.js"></SCRIPT>
        <SCRIPT TYPE="text/javascript" SRC="./js/mapnames.js"></SCRIPT>
        <SCRIPT TYPE="text/javascript" SRC="./js/index.js"></SCRIPT>
        <SCRIPT TYPE="text/javascript" SRC="./js/mapper.js"></SCRIPT>

        <TITLE>Emblitz</TITLE>
    </HEAD>
    <BODY>
        <DIV ID="notifications">
            <!-- notifications display here -->
        </DIV>
        <DIV CLASS="lobbyscreen" ID="lobbyscreen">
            <DIV CLASS="homebackgroundcontainer"><DIV CLASS="homebackground"></DIV></DIV>
            <DIV CLASS="homemenu">
                <DIV CLASS="homemenu-bg"></DIV>
                <DIV CLASS="homelogo"><IMG CLASS="mainlogoimg" SRC="./images/logo.png"></DIV>
                <DIV CLASS="join_input" ID="join_input">
                    <INPUT ID="p_name" CLASS="name_input" MAXLENGTH="18" TYPE="text" PLACEHOLDER="Name here...">
                    <DIV CLASS="mapselect">
                        <DIV CLASS="mapselecttitle">Current map selection:</DIV>
                        <DIV CLASS="selectedmap">
                            
                        </DIV>
                    </DIV>
                    <DIV CLASS="h_button_options">
                        <BUTTON CLASS="joinbutton jb_green" STYLE="margin-right: 5px" ID="joingame" ONCLICK="gameConnect(document.getElementById('p_name').value, null, document.getElementById('framecolor').value, document.getElementById('mapselect').value, false)">Play</BUTTON>
                        <BUTTON CLASS="joinbutton jb_gray" ID="joinprivate" ONCLICK="showJoinRoom()">Join Game</BUTTON>
                        <DIV CLASS="joinroom_area" ID="joinroom_area" STYLE="display: none;">
                            <DIV CLASS="joinroomtext">Got an invite code? Enter it here to join the game.</DIV>
                            <INPUT CLASS="room_input" ID="room_id" MAXLENGTH="6" PLACEHOLDER="123abc"><BUTTON CLASS="joinbutton jb_green" ID="joingame" style="padding: 7px !important; margin-left: 5px" ONCLICK="gameConnect(document.getElementById('p_name').value, 'r-' + document.getElementById('room_id').value, document.getElementById('framecolor').value, null, false)">Connect</BUTTON>
                        </DIV>
                        <BR><BR>
                        <BUTTON CLASS="joinbutton jb_gray" ID="joingame" ONCLICK="gameConnect(document.getElementById('p_name').value, null, document.getElementById('framecolor').value, document.getElementById('mapselect').value, true)">Create Room</BUTTON>
                        <BR><BR>
                        <!-- REMOVE THIS WHEN DONE, MAKE BETTER LOOKING COLOR SELECT MENU -->
                        (preference select; this is only for testing and is temporary)<BR>
                        <SELECT ID="framecolor" STYLE="padding: 5px; font-size: 17px">
                            <OPTION VALUE="red">red</OPTION>
                            <OPTION VALUE="orange">orange</OPTION>
                            <OPTION VALUE="yellow">yellow</OPTION>
                            <OPTION VALUE="green">green</OPTION>
                            <OPTION VALUE="blue">blue</OPTION>
                            <OPTION VALUE="purple">purple</OPTION>
                        </SELECT>
                        <SELECT ID="mapselect" STYLE="padding: 5px; font-size: 17px">
                            <OPTION VALUE="random">Random Map</OPTION>
                            <OPTION VALUE="miniworld">Micro World</OPTION>
                            <OPTION VALUE="michigan">Michigan</OPTION>
                        </SELECT>

                    </DIV>
                </DIV>
            </DIV>
        </DIV>
        <DIV CLASS="gamelobby" ID="gamelobby">
            <DIV CLASS="globby_container">
                <DIV ID="mapname" CLASS="lobby_mapname">---</DIV>
                <DIV CLASS="lobbyptable" ID="lobbyptable">

                </DIV>
                <DIV CLASS="invitecode">Room join code: <SPAN ID="invitecode">-----</SPAN></DIV>
                <BUTTON ID="startvote" CLASS="joinbutton jb_green" STYLE="margin-top: 10px;">Ready</BUTTON>
            </DIV>
        </DIV>
        <DIV CLASS="gamescreen" ID="gamescreen">
            <DIV ID="player_gui">
                <DIV CLASS="leaderboard">
                    <DIV CLASS="lb_table" ID="leaderboard">
                        <DIV CLASS="leaderboard_bg"></DIV> <!-- transparent background to bypass goofy ahh transparency css -->
                        <DIV CLASS="lb_header">Players</DIV>
                        <DIV ID="players_container">
                            <!-- player leaderboard goes here -->
                        </DIV>                       
                    </DIV>
                </DIV>
                <DIV CLASS="troopscontrol">
                    <DIV CLASS="troopscontrolbg"></DIV>
                    <DIV CLASS="t_avatar-frame" ID="t-avatar-frame"></DIV>
                    <DIV STYLE="margin-top: -80px; margin-left: 60px;">
                        <INPUT TYPE="range" MIN="1" MAX="100" VALUE="75" CLASS="troopslider" ID="troopslider">
                        <BR>
                        <DIV CLASS="controlitem" ID="trooppercentage">75%</DIV><DIV CLASS="controlitem" ID="sendamount">--</DIV>
                    </DIV>
                </DIV>
                <DIV CLASS="infobar-main" ID="infobar">
                    <DIV CLASS="infobar-bg"></DIV>
                    <DIV CLASS="ibmain-text" ID="statustext"><B>Deploy Phase:</B> Select a starting point</DIV>
                    <DIV CLASS="timer-bg"><DIV CLASS="timer-line" ID="eventstimer"></DIV></DIV>
                </DIV>
                <DIV CLASS="troopcounterinfo">
                    <DIV CLASS="troopcounter-bg"></DIV>
                    <DIV CLASS="troopcounter"><IMG CLASS="troopcounterimage" SRC="./images/troopgaincounter.png"><DIV CLASS="troopcountertext"><SPAN ID="troopseconds">10</SPAN> seconds</DIV></DIV>
                    <DIV CLASS="timer-bg"><DIV CLASS="timer-line" ID="troopstimer"></DIV></DIV>
                </DIV>
                <DIV CLASS="statsbar">
                    <DIV CLASS="statsbar-bg" ID="statsbar-bg"></DIV>
                    <DIV CLASS="statsbar-inner">
                        <DIV CLASS="s-title">Your Stats</DIV>
                        <DIV CLASS="s-troops"><I CLASS="fa fa-male"></I> <SPAN ID="s-troops">0</SPAN> Troops</DIV>
                        <DIV CLASS="s-territories"><I CLASS="fa fa-map-marker"></I> <SPAN ID="s-territories">0</SPAN>/<SPAN ID="s-totalterritories">0</SPAN> Territories</DIV>
                        <DIV CLASS="s-territories-label">Territories captured:</DIV>
                        <DIV CLASS="s-territories-bar"><DIV ID="territoryprogress" CLASS="s-territories-bar-inner"></DIV></DIV>
                    </DIV>
                </DIV>
                <DIV CLASS="leavegame">
                    <BUTTON CLASS="leavegamebutton" ID="leavegamebutton" ONCLICK="toggleqcvisibility()"><I CLASS="fa fa-caret-square-o-left"></I></BUTTON>
                    <DIV CLASS="quitconfirm" ID="quitconfirm" STYLE="display: none;">
                        <DIV CLASS="quitconfirm-bg"></DIV>
                        <DIV CLASS="qc-inner">
                            <DIV CLASS="qc-title">Leave Game?</DIV>
                            <DIV CLASS="qc-message">Are you sure you want to leave the game? You cannot rejoin and will be defeated!</DIV>
                            <BUTTON CLASS="qc-button end-gray" STYLE="margin-right: 8px;" ONCLICK="leavegame()">Yes</BUTTON><BUTTON CLASS="qc-button end-red" ONCLICK='document.getElementById("quitconfirm").style.display = "none"'>Cancel</BUTTON>
                        </DIV>
                    </DIV>
                </DIV>
                <DIV CLASS="endscreen" ID="endscreen">
                    <DIV CLASS="endscreen-bg"></DIV>
                    <DIV CLASS="endscreen-inner">
                        <DIV CLASS="e-header" ID="e-header">You were defeated</DIV>
                        <DIV CLASS="e-stats"><SPAN ID="e-intro">You lost all your territories and were defeated!</SPAN> You had a max of <SPAN ID="e-troops">0</SPAN> troops and controlled a max of <SPAN ID="e-territories">0</SPAN> territories at your peak. You placed <SPAN ID="e-place">6th</SPAN> playing the <SPAN ID="e-map"></SPAN> map. <SPAN ID="e-ending">Better luck next time!</SPAN></DIV>
                        <BUTTON ONCLICK="share()" CLASS="endbutton end-blue"><I CLASS="fa fa-share-square-o"></I> Share</BUTTON><BUTTON CLASS="endbutton end-green" ONCLICK="spectategame()"><I CLASS="fa fa-eye"></I> Spectate</BUTTON><BUTTON CLASS="endbutton end-red" ONCLICK="leavegame()"><I CLASS="fa fa-chevron-circle-left"></I> Leave Game</BUTTON>
                    </DIV>
                </DIV>
            </DIV>
            <DIV CLASS="mapcontainer" STYLE="transform: scale(1)" ID="mapcontainer">
                <DIV ID="map" STYLE="transform: translate(0px, 0px);"><DIV ID="svg-map-bg" class="svg-map-bg"><DIV ID="mapl2"></DIV><DIV ID="maploading">Loading...</DIV></DIV></DIV>
            </DIV>
        </DIV>
    </BODY>
</HTML>
